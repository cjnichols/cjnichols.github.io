<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script type="text/javascript">
      var timerStart = Date.now();
  </script>
  <style>
  .node {
    stroke: #fff;
    stroke-width: 1.5px;
  }
  .link {
    stroke: #999;
    stroke-opacity: .6;
  }
  .table table {
    border-spacing: 0px;
    text-align: center;;
  }
  .table th {
    border: 1px solid black;
  }
  .table td {
    width: 15px;
    height: 15px;
  }
  .table .bott {
    border: 1px solid black;
    width: 50px;
  }
  .table table td.head {
    border: 1px solid black;
  } 
  </style>
</head>
<body>
  <form>
    <input id="max" type="text" value="135">
    <select id="percentage">
    </select>
    <select id="step">
    </select>
  </form>
  <div id="loads"></div><br/><br/>
  <div id="footer"></div>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
  <script>
    for(var i=0;i<10;i++){
      var per = 50 + (i*5);
      $('#percentage').append(new Option(per, per, true, i === 0));
    }
    $('#step').append(new Option('5','5',true,true));
    $('#step').append(new Option('10','10',true,false));

    $("#max").change(function() {
      updatePercentages($('#max').val(),$('#percentage').val(),$('#step').val());  
    });
    $("#percentage").change(function() {
      updatePercentages($('#max').val(),$('#percentage').val(),$('#step').val());  
    });
    $("#step").change(function() {
      updatePercentages($('#max').val(),$('#percentage').val(),$('#step').val());  
    });

    var wheels = [45,45,45,45,35,25,15,10,5,5,2.5,2.5];
    var loads = combine(combinations(wheels,1));

    updatePercentages($('#max').val(),$('#percentage').val(),$('#step').val());  
    function updatePercentages(max,percentage,step){
      var percentages = [];
      for(var i=parseInt(percentage);i<=100;i+=parseInt(step)){
        percentages.push((Math.round((max * (i/100))/5)*5));
      }
      updateLoads(max,parseInt(percentage),percentages,parseInt(step));
    }
 
    function updateLoads(max,percentage,percentages,step){
      var html = '';
      for(var i=0;i<percentages.length;i++){
        var total = percentages[i];
        html += '<h2>'+(percentage + (step*i))+'% '+total+'# </h2>';
        for(var j=0;j<loads[total].length;j++){
          html += loads[total][j]+'<br/>';
        }
      }
      $("#loads").empty().append(html);
    }

    function dedup(a){
      return a.filter(function(elem,pos){
        return a.indexOf(elem) === pos;
      });
    }

    function combine(a){
      var loads = {};
      for(var i=0;i<a.length;i++){
        var total = 45+(sum(a[i])*2);
        if(total <= 500){
          if(!loads[total]) loads[total] = [];
          loads[total].push(a[i].join());
        }
      }
      for(var load in loads){
        loads[load] = dedup(loads[load]);
      }
      return loads;
    }

    function sum(a){
      var total = 0;
      for(var i=0;i<a.length;i++){
        total += a[i];
      }
      return total;
    }

    function combinations(a, min) {
      var fn = function(n, src, got, all) {
          if (n == 0) {
              if (got.length > 0) {
                  all[all.length] = got;
              }
              return;
          }
          for (var j = 0; j < src.length; j++) {
              fn(n - 1, src.slice(j + 1), got.concat([src[j]]), all);
          }
          return;
      }
      var all = [];
      for (var i = min; i < a.length; i++) {
          fn(i, a, [], all);
      }
      all.push(a);
      return all;
    }
  </script>
  <script type="text/javascript">
       $(document).ready(function() {
           $('#footer').append("DOM Ready In ", Date.now()-timerStart, "</br>");
       });
       $(window).load(function() {
           $('#footer').append("Page Loaded In ", Date.now()-timerStart);
       });
  </script>
</body>
</html>